{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./NotificationsHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":70,"index":160}}],"key":"UF+u43m6G1FFZlom/NfKv8+5frg=","exportNames":["*"],"imports":1}},{"name":"./utils/mapNotificationResponse","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":161},"end":{"line":3,"column":66,"index":227}}],"key":"JkOfaen2LZL/eo5bIUuRnscMf0c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"NotificationTimeoutError\", {\n    enumerable: true,\n    get: function () {\n      return NotificationTimeoutError;\n    }\n  });\n  exports.setNotificationHandler = setNotificationHandler;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[3], \"@babel/runtime/helpers/callSuper\");\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[4], \"@babel/runtime/helpers/inherits\");\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _expoModulesCore = require(_dependencyMap[5], \"expo-modules-core\");\n  var _NotificationsHandlerModule = require(_dependencyMap[6], \"./NotificationsHandlerModule\");\n  var NotificationsHandlerModule = _interopDefault(_NotificationsHandlerModule);\n  var _utilsMapNotificationResponse = require(_dependencyMap[7], \"./utils/mapNotificationResponse\");\n  /**\n   * @hidden\n   */\n  var NotificationTimeoutError = /*#__PURE__*/function (_CodedError) {\n    function NotificationTimeoutError(notificationId, notification) {\n      var _this;\n      (0, _classCallCheck.default)(this, NotificationTimeoutError);\n      _this = (0, _callSuper.default)(this, NotificationTimeoutError, ['ERR_NOTIFICATION_TIMEOUT', `Notification handling timed out for ID ${notificationId}.`]);\n      _this.info = {\n        id: notificationId,\n        notification\n      };\n      return _this;\n    }\n    (0, _inherits.default)(NotificationTimeoutError, _CodedError);\n    return (0, _createClass.default)(NotificationTimeoutError);\n  }(_expoModulesCore.CodedError); // Web uses SyntheticEventEmitter\n  var notificationEmitter = new _expoModulesCore.LegacyEventEmitter(NotificationsHandlerModule.default);\n  var handleNotificationEventName = 'onHandleNotification';\n  var handleNotificationTimeoutEventName = 'onHandleNotificationTimeout';\n  var handleSubscription = null;\n  var handleTimeoutSubscription = null;\n  /**\n   * When a notification is received while the app is running, using this function you can set a callback that will decide\n   * whether the notification should be shown to the user or not.\n   *\n   * When a notification is received, `handleNotification` is called with the incoming notification as an argument.\n   * The function should respond with a behavior object within 3 seconds, otherwise, the notification will be discarded.\n   * If the notification is handled successfully, `handleSuccess` is called with the identifier of the notification,\n   * otherwise (or on timeout) `handleError` will be called.\n   *\n   * The default behavior when the handler is not set or does not respond in time is not to show the notification.\n   * @param handler A single parameter which should be either `null` (if you want to clear the handler) or a [`NotificationHandler`](#notificationhandler) object.\n   *\n   * @example Implementing a notification handler that always shows the notification when it is received.\n   * ```jsx\n   * import * as Notifications from 'expo-notifications';\n   *\n   * Notifications.setNotificationHandler({\n   *   handleNotification: async () => ({\n   *     shouldShowBanner: true,\n   *     shouldShowList: true,\n   *     shouldPlaySound: false,\n   *     shouldSetBadge: false,\n   *   }),\n   * });\n   * ```\n   * @header inForeground\n   */\n  function setNotificationHandler(handler) {\n    if (handleSubscription) {\n      handleSubscription.remove();\n      handleSubscription = null;\n    }\n    if (handleTimeoutSubscription) {\n      handleTimeoutSubscription.remove();\n      handleTimeoutSubscription = null;\n    }\n    if (handler) {\n      handleSubscription = notificationEmitter.addListener(handleNotificationEventName, /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator.default)(function* (_ref) {\n          var id = _ref.id,\n            notification = _ref.notification;\n          if (!NotificationsHandlerModule.default.handleNotificationAsync) {\n            handler.handleError?.(id, new _expoModulesCore.UnavailabilityError('Notifications', 'handleNotificationAsync'));\n            return;\n          }\n          try {\n            var mappedNotification = (0, _utilsMapNotificationResponse.mapNotification)(notification);\n            var behavior = yield handler.handleNotification(mappedNotification);\n            if (behavior.shouldShowAlert) {\n              console.warn('[expo-notifications]: `shouldShowAlert` is deprecated. Specify `shouldShowBanner` and / or `shouldShowList` instead.');\n            }\n            yield NotificationsHandlerModule.default.handleNotificationAsync(id, behavior);\n            handler.handleSuccess?.(id);\n          } catch (error) {\n            // TODO(@kitten): This callback expects specific Error types, but we never narrow the type before calling this callback\n            handler.handleError?.(id, error);\n          }\n        });\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      handleTimeoutSubscription = notificationEmitter.addListener(handleNotificationTimeoutEventName, _ref3 => {\n        var id = _ref3.id,\n          notification = _ref3.notification;\n        return handler.handleError?.(id, new NotificationTimeoutError(id, (0, _utilsMapNotificationResponse.mapNotification)(notification)));\n      });\n    }\n  }\n});","lineCount":124,"map":[[12,2,7,0,"Object"],[12,8,7,0],[12,9,7,0,"defineProperty"],[12,23,7,0],[12,24,7,0,"exports"],[12,31,7,0],[13,4,7,0,"enumerable"],[13,14,7,0],[14,4,7,0,"get"],[14,7,7,0],[14,18,7,0,"get"],[14,19,7,0],[15,6,7,0],[15,13,7,0,"NotificationTimeoutError"],[15,37,7,0],[16,4,7,0],[17,2,7,0],[18,2,47,0,"exports"],[18,9,47,0],[18,10,47,0,"setNotificationHandler"],[18,32,47,0],[18,35,47,0,"setNotificationHandler"],[18,57,47,0],[19,2,78,1],[19,6,78,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,78,1],[19,45,78,1,"require"],[19,52,78,1],[19,53,78,1,"_dependencyMap"],[19,67,78,1],[20,2,78,1],[20,6,78,1,"_asyncToGenerator"],[20,23,78,1],[20,26,78,1,"_interopDefault"],[20,41,78,1],[20,42,78,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,78,1],[21,2,78,1],[21,6,78,1,"_babelRuntimeHelpersCreateClass"],[21,37,78,1],[21,40,78,1,"require"],[21,47,78,1],[21,48,78,1,"_dependencyMap"],[21,62,78,1],[22,2,78,1],[22,6,78,1,"_createClass"],[22,18,78,1],[22,21,78,1,"_interopDefault"],[22,36,78,1],[22,37,78,1,"_babelRuntimeHelpersCreateClass"],[22,68,78,1],[23,2,78,1],[23,6,78,1,"_babelRuntimeHelpersClassCallCheck"],[23,40,78,1],[23,43,78,1,"require"],[23,50,78,1],[23,51,78,1,"_dependencyMap"],[23,65,78,1],[24,2,78,1],[24,6,78,1,"_classCallCheck"],[24,21,78,1],[24,24,78,1,"_interopDefault"],[24,39,78,1],[24,40,78,1,"_babelRuntimeHelpersClassCallCheck"],[24,74,78,1],[25,2,78,1],[25,6,78,1,"_babelRuntimeHelpersCallSuper"],[25,35,78,1],[25,38,78,1,"require"],[25,45,78,1],[25,46,78,1,"_dependencyMap"],[25,60,78,1],[26,2,78,1],[26,6,78,1,"_callSuper"],[26,16,78,1],[26,19,78,1,"_interopDefault"],[26,34,78,1],[26,35,78,1,"_babelRuntimeHelpersCallSuper"],[26,64,78,1],[27,2,78,1],[27,6,78,1,"_babelRuntimeHelpersInherits"],[27,34,78,1],[27,37,78,1,"require"],[27,44,78,1],[27,45,78,1,"_dependencyMap"],[27,59,78,1],[28,2,78,1],[28,6,78,1,"_inherits"],[28,15,78,1],[28,18,78,1,"_interopDefault"],[28,33,78,1],[28,34,78,1,"_babelRuntimeHelpersInherits"],[28,62,78,1],[29,2,1,0],[29,6,1,0,"_expoModulesCore"],[29,22,1,0],[29,25,1,0,"require"],[29,32,1,0],[29,33,1,0,"_dependencyMap"],[29,47,1,0],[30,2,2,0],[30,6,2,0,"_NotificationsHandlerModule"],[30,33,2,0],[30,36,2,0,"require"],[30,43,2,0],[30,44,2,0,"_dependencyMap"],[30,58,2,0],[31,2,2,0],[31,6,2,0,"NotificationsHandlerModule"],[31,32,2,0],[31,35,2,0,"_interopDefault"],[31,50,2,0],[31,51,2,0,"_NotificationsHandlerModule"],[31,78,2,0],[32,2,3,0],[32,6,3,0,"_utilsMapNotificationResponse"],[32,35,3,0],[32,38,3,0,"require"],[32,45,3,0],[32,46,3,0,"_dependencyMap"],[32,60,3,0],[33,2,4,0],[34,0,5,0],[35,0,6,0],[36,2,4,0],[36,6,7,13,"NotificationTimeoutError"],[36,30,7,37],[36,56,7,37,"_CodedError"],[36,67,7,37],[37,4,9,4],[37,13,9,4,"NotificationTimeoutError"],[37,38,9,16,"notificationId"],[37,52,9,30],[37,54,9,32,"notification"],[37,66,9,44],[37,68,9,46],[38,6,9,46],[38,10,9,46,"_this"],[38,15,9,46],[39,6,9,46],[39,10,9,46,"_classCallCheck"],[39,25,9,46],[39,26,9,46,"default"],[39,33,9,46],[39,41,9,46,"NotificationTimeoutError"],[39,65,9,46],[40,6,10,8,"_this"],[40,11,10,8],[40,18,10,8,"_callSuper"],[40,28,10,8],[40,29,10,8,"default"],[40,36,10,8],[40,44,10,8,"NotificationTimeoutError"],[40,68,10,8],[40,71,10,14],[40,97,10,40],[40,99,10,42],[40,141,10,84,"notificationId"],[40,155,10,98],[40,158,10,101],[41,6,11,8,"_this"],[41,11,11,8],[41,12,11,13,"info"],[41,16,11,17],[41,19,11,20],[42,8,11,22,"id"],[42,10,11,24],[42,12,11,26,"notificationId"],[42,26,11,40],[43,8,11,42,"notification"],[44,6,11,55],[44,7,11,56],[45,6,11,57],[45,13,11,57,"_this"],[45,18,11,57],[46,4,12,4],[47,4,12,5],[47,8,12,5,"_inherits"],[47,17,12,5],[47,18,12,5,"default"],[47,25,12,5],[47,27,12,5,"NotificationTimeoutError"],[47,51,12,5],[47,53,12,5,"_CodedError"],[47,64,12,5],[48,4,12,5],[48,15,12,5,"_createClass"],[48,27,12,5],[48,28,12,5,"default"],[48,35,12,5],[48,37,12,5,"NotificationTimeoutError"],[48,61,12,5],[49,2,12,5],[49,4,7,46,"CodedError"],[49,20,7,56],[49,21,7,56,"CodedError"],[49,31,7,56],[49,34,14,0],[50,2,15,0],[50,6,15,6,"notificationEmitter"],[50,25,15,25],[50,28,15,28],[50,32,15,32,"LegacyEventEmitter"],[50,48,15,50],[50,49,15,50,"LegacyEventEmitter"],[50,67,15,50],[50,68,15,51,"NotificationsHandlerModule"],[50,94,15,77],[50,95,15,77,"default"],[50,102,15,77],[50,103,15,78],[51,2,16,0],[51,6,16,6,"handleNotificationEventName"],[51,33,16,33],[51,36,16,36],[51,58,16,58],[52,2,17,0],[52,6,17,6,"handleNotificationTimeoutEventName"],[52,40,17,40],[52,43,17,43],[52,72,17,72],[53,2,18,0],[53,6,18,4,"handleSubscription"],[53,24,18,22],[53,27,18,25],[53,31,18,29],[54,2,19,0],[54,6,19,4,"handleTimeoutSubscription"],[54,31,19,29],[54,34,19,32],[54,38,19,36],[55,2,20,0],[56,0,21,0],[57,0,22,0],[58,0,23,0],[59,0,24,0],[60,0,25,0],[61,0,26,0],[62,0,27,0],[63,0,28,0],[64,0,29,0],[65,0,30,0],[66,0,31,0],[67,0,32,0],[68,0,33,0],[69,0,34,0],[70,0,35,0],[71,0,36,0],[72,0,37,0],[73,0,38,0],[74,0,39,0],[75,0,40,0],[76,0,41,0],[77,0,42,0],[78,0,43,0],[79,0,44,0],[80,0,45,0],[81,0,46,0],[82,2,47,7],[82,11,47,16,"setNotificationHandler"],[82,33,47,38,"setNotificationHandler"],[82,34,47,39,"handler"],[82,41,47,46],[82,43,47,48],[83,4,48,4],[83,8,48,8,"handleSubscription"],[83,26,48,26],[83,28,48,28],[84,6,49,8,"handleSubscription"],[84,24,49,26],[84,25,49,27,"remove"],[84,31,49,33],[84,32,49,34],[84,33,49,35],[85,6,50,8,"handleSubscription"],[85,24,50,26],[85,27,50,29],[85,31,50,33],[86,4,51,4],[87,4,52,4],[87,8,52,8,"handleTimeoutSubscription"],[87,33,52,33],[87,35,52,35],[88,6,53,8,"handleTimeoutSubscription"],[88,31,53,33],[88,32,53,34,"remove"],[88,38,53,40],[88,39,53,41],[88,40,53,42],[89,6,54,8,"handleTimeoutSubscription"],[89,31,54,33],[89,34,54,36],[89,38,54,40],[90,4,55,4],[91,4,56,4],[91,8,56,8,"handler"],[91,15,56,15],[91,17,56,17],[92,6,57,8,"handleSubscription"],[92,24,57,26],[92,27,57,29,"notificationEmitter"],[92,46,57,48],[92,47,57,49,"addListener"],[92,58,57,60],[92,59,57,61,"handleNotificationEventName"],[92,86,57,88],[93,8,57,88],[93,12,57,88,"_ref2"],[93,17,57,88],[93,24,57,88,"_asyncToGenerator"],[93,41,57,88],[93,42,57,88,"default"],[93,49,57,88],[93,51,57,90],[93,62,57,90,"_ref"],[93,66,57,90],[93,68,57,122],[94,10,57,122],[94,14,57,99,"id"],[94,16,57,101],[94,19,57,101,"_ref"],[94,23,57,101],[94,24,57,99,"id"],[94,26,57,101],[95,12,57,103,"notification"],[95,24,57,115],[95,27,57,115,"_ref"],[95,31,57,115],[95,32,57,103,"notification"],[95,44,57,115],[96,10,58,12],[96,14,58,16],[96,15,58,17,"NotificationsHandlerModule"],[96,41,58,43],[96,42,58,43,"default"],[96,49,58,43],[96,50,58,44,"handleNotificationAsync"],[96,73,58,67],[96,75,58,69],[97,12,59,16,"handler"],[97,19,59,23],[97,20,59,24,"handleError"],[97,31,59,35],[97,34,59,38,"id"],[97,36,59,40],[97,38,59,42],[97,42,59,46,"UnavailabilityError"],[97,58,59,65],[97,59,59,65,"UnavailabilityError"],[97,78,59,65],[97,79,59,66],[97,94,59,81],[97,96,59,83],[97,121,59,108],[97,122,59,109],[97,123,59,110],[98,12,60,16],[99,10,61,12],[100,10,62,12],[100,14,62,16],[101,12,63,16],[101,16,63,22,"mappedNotification"],[101,34,63,40],[101,37,63,43],[101,41,63,43,"mapNotification"],[101,70,63,58],[101,71,63,58,"mapNotification"],[101,86,63,58],[101,88,63,59,"notification"],[101,100,63,71],[101,101,63,72],[102,12,64,16],[102,16,64,22,"behavior"],[102,24,64,30],[102,33,64,39,"handler"],[102,40,64,46],[102,41,64,47,"handleNotification"],[102,59,64,65],[102,60,64,66,"mappedNotification"],[102,78,64,84],[102,79,64,85],[103,12,65,16],[103,16,65,20,"behavior"],[103,24,65,28],[103,25,65,29,"shouldShowAlert"],[103,40,65,44],[103,42,65,46],[104,14,66,20,"console"],[104,21,66,27],[104,22,66,28,"warn"],[104,26,66,32],[104,27,66,33],[104,145,66,151],[104,146,66,152],[105,12,67,16],[106,12,68,16],[106,18,68,22,"NotificationsHandlerModule"],[106,44,68,48],[106,45,68,48,"default"],[106,52,68,48],[106,53,68,49,"handleNotificationAsync"],[106,76,68,72],[106,77,68,73,"id"],[106,79,68,75],[106,81,68,77,"behavior"],[106,89,68,85],[106,90,68,86],[107,12,69,16,"handler"],[107,19,69,23],[107,20,69,24,"handleSuccess"],[107,33,69,37],[107,36,69,40,"id"],[107,38,69,42],[107,39,69,43],[108,10,70,12],[108,11,70,13],[108,12,71,12],[108,19,71,19,"error"],[108,24,71,24],[108,26,71,26],[109,12,72,16],[110,12,73,16,"handler"],[110,19,73,23],[110,20,73,24,"handleError"],[110,31,73,35],[110,34,73,38,"id"],[110,36,73,40],[110,38,73,42,"error"],[110,43,73,47],[110,44,73,48],[111,10,74,12],[112,8,75,8],[112,9,75,9],[113,8,75,9],[113,25,75,9,"_x"],[113,27,75,9],[114,10,75,9],[114,17,75,9,"_ref2"],[114,22,75,9],[114,23,75,9,"apply"],[114,28,75,9],[114,35,75,9,"arguments"],[114,44,75,9],[115,8,75,9],[116,6,75,9],[116,10,75,10],[117,6,76,8,"handleTimeoutSubscription"],[117,31,76,33],[117,34,76,36,"notificationEmitter"],[117,53,76,55],[117,54,76,56,"addListener"],[117,65,76,67],[117,66,76,68,"handleNotificationTimeoutEventName"],[117,100,76,102],[117,102,76,104,"_ref3"],[117,107,76,104],[118,8,76,104],[118,12,76,107,"id"],[118,14,76,109],[118,17,76,109,"_ref3"],[118,22,76,109],[118,23,76,107,"id"],[118,25,76,109],[119,10,76,111,"notification"],[119,22,76,123],[119,25,76,123,"_ref3"],[119,30,76,123],[119,31,76,111,"notification"],[119,43,76,123],[120,8,76,123],[120,15,76,130,"handler"],[120,22,76,137],[120,23,76,138,"handleError"],[120,34,76,149],[120,37,76,152,"id"],[120,39,76,154],[120,41,76,156],[120,45,76,160,"NotificationTimeoutError"],[120,69,76,184],[120,70,76,185,"id"],[120,72,76,187],[120,74,76,189],[120,78,76,189,"mapNotification"],[120,107,76,204],[120,108,76,204,"mapNotification"],[120,123,76,204],[120,125,76,205,"notification"],[120,137,76,217],[120,138,76,218],[120,139,76,219],[120,140,76,220],[121,6,76,220],[121,8,76,221],[122,4,77,4],[123,2,78,0],[124,0,78,1],[124,3]],"functionMap":{"names":["<global>","NotificationTimeoutError","NotificationTimeoutError#constructor","setNotificationHandler","notificationEmitter.addListener$argument_1"],"mappings":"AAA;OCM;ICE;KDG;CDC;OGkC;0FCU;SDkB;wGCC,oHD;CHE"},"hasCjsExports":false},"type":"js/module"}]}