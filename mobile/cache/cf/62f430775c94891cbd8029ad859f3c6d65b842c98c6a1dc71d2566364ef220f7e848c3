{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./PushTokenManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":67},"end":{"line":2,"column":50,"index":117}}],"key":"/U/z9wvFThAkR9FZ1qxFHdWzZ18=","exportNames":["*"],"imports":1}},{"name":"./warnOfExpoGoPushUsage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":118},"end":{"line":3,"column":64,"index":182}}],"key":"JoKHHQXXGY91wSaWh9AbqdpRHBQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return getDevicePushTokenAsync;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _PushTokenManager = require(_dependencyMap[2], \"./PushTokenManager\");\n  var PushTokenManager = _interopDefault(_PushTokenManager);\n  var _warnOfExpoGoPushUsage = require(_dependencyMap[3], \"./warnOfExpoGoPushUsage\");\n  var nativeTokenPromise = null;\n  /**\n   * Returns a native FCM, APNs token or a [`PushSubscription` data](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription)\n   * that can be used with another push notification service.\n   * @header fetch\n   */\n  function getDevicePushTokenAsync() {\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n  function _getDevicePushTokenAsync() {\n    _getDevicePushTokenAsync = (0, _asyncToGenerator.default)(function* () {\n      if (!PushTokenManager.default.getDevicePushTokenAsync) {\n        throw new _expoModulesCore.UnavailabilityError('ExpoNotifications', 'getDevicePushTokenAsync');\n      }\n      (0, _warnOfExpoGoPushUsage.warnOfExpoGoPushUsage)();\n      var devicePushToken;\n      if (nativeTokenPromise) {\n        // Reuse existing Promise\n        devicePushToken = yield nativeTokenPromise;\n      } else {\n        // Create a new Promise and clear it afterwards\n        nativeTokenPromise = PushTokenManager.default.getDevicePushTokenAsync();\n        devicePushToken = yield nativeTokenPromise;\n        nativeTokenPromise = null;\n      }\n      // @ts-ignore: TS thinks Platform.OS could be anything and can't decide what type is it\n      return {\n        type: _expoModulesCore.Platform.OS,\n        data: devicePushToken\n      };\n    });\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n});","lineCount":57,"map":[[20,2,1,0],[20,6,1,0,"_expoModulesCore"],[20,22,1,0],[20,25,1,0,"require"],[20,32,1,0],[20,33,1,0,"_dependencyMap"],[20,47,1,0],[21,2,2,0],[21,6,2,0,"_PushTokenManager"],[21,23,2,0],[21,26,2,0,"require"],[21,33,2,0],[21,34,2,0,"_dependencyMap"],[21,48,2,0],[22,2,2,0],[22,6,2,0,"PushTokenManager"],[22,22,2,0],[22,25,2,0,"_interopDefault"],[22,40,2,0],[22,41,2,0,"_PushTokenManager"],[22,58,2,0],[23,2,3,0],[23,6,3,0,"_warnOfExpoGoPushUsage"],[23,28,3,0],[23,31,3,0,"require"],[23,38,3,0],[23,39,3,0,"_dependencyMap"],[23,53,3,0],[24,2,4,0],[24,6,4,4,"nativeTokenPromise"],[24,24,4,22],[24,27,4,25],[24,31,4,29],[25,2,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,2,5,0],[30,11,10,30,"getDevicePushTokenAsync"],[30,34,10,53,"getDevicePushTokenAsync"],[30,35,10,53],[31,4,10,53],[31,11,10,53,"_getDevicePushTokenAsync"],[31,35,10,53],[31,36,10,53,"apply"],[31,41,10,53],[31,48,10,53,"arguments"],[31,57,10,53],[32,2,10,53],[33,2,10,53],[33,11,10,53,"_getDevicePushTokenAsync"],[33,36,10,53],[34,4,10,53,"_getDevicePushTokenAsync"],[34,28,10,53],[34,35,10,53,"_asyncToGenerator"],[34,52,10,53],[34,53,10,53,"default"],[34,60,10,53],[34,62,10,15],[34,75,10,56],[35,6,11,4],[35,10,11,8],[35,11,11,9,"PushTokenManager"],[35,27,11,25],[35,28,11,25,"default"],[35,35,11,25],[35,36,11,26,"getDevicePushTokenAsync"],[35,59,11,49],[35,61,11,51],[36,8,12,8],[36,14,12,14],[36,18,12,18,"UnavailabilityError"],[36,34,12,37],[36,35,12,37,"UnavailabilityError"],[36,54,12,37],[36,55,12,38],[36,74,12,57],[36,76,12,59],[36,101,12,84],[36,102,12,85],[37,6,13,4],[38,6,14,4],[38,10,14,4,"warnOfExpoGoPushUsage"],[38,32,14,25],[38,33,14,25,"warnOfExpoGoPushUsage"],[38,54,14,25],[38,56,14,26],[38,57,14,27],[39,6,15,4],[39,10,15,8,"devicePushToken"],[39,25,15,23],[40,6,16,4],[40,10,16,8,"nativeTokenPromise"],[40,28,16,26],[40,30,16,28],[41,8,17,8],[42,8,18,8,"devicePushToken"],[42,23,18,23],[42,32,18,32,"nativeTokenPromise"],[42,50,18,50],[43,6,19,4],[43,7,19,5],[43,13,20,9],[44,8,21,8],[45,8,22,8,"nativeTokenPromise"],[45,26,22,26],[45,29,22,29,"PushTokenManager"],[45,45,22,45],[45,46,22,45,"default"],[45,53,22,45],[45,54,22,46,"getDevicePushTokenAsync"],[45,77,22,69],[45,78,22,70],[45,79,22,71],[46,8,23,8,"devicePushToken"],[46,23,23,23],[46,32,23,32,"nativeTokenPromise"],[46,50,23,50],[47,8,24,8,"nativeTokenPromise"],[47,26,24,26],[47,29,24,29],[47,33,24,33],[48,6,25,4],[49,6,26,4],[50,6,27,4],[50,13,27,11],[51,8,27,13,"type"],[51,12,27,17],[51,14,27,19,"Platform"],[51,30,27,27],[51,31,27,27,"Platform"],[51,39,27,27],[51,40,27,28,"OS"],[51,42,27,30],[52,8,27,32,"data"],[52,12,27,36],[52,14,27,38,"devicePushToken"],[53,6,27,54],[53,7,27,55],[54,4,28,0],[54,5,28,1],[55,4,28,1],[55,11,28,1,"_getDevicePushTokenAsync"],[55,35,28,1],[55,36,28,1,"apply"],[55,41,28,1],[55,48,28,1,"arguments"],[55,57,28,1],[56,2,28,1],[57,0,28,1],[57,3]],"functionMap":{"names":["<global>","getDevicePushTokenAsync"],"mappings":"AAA;eCS;CDkB"},"hasCjsExports":false},"type":"js/module"}]}